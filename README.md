# webmap-template
ウェブ地図作る際のテンプレみたいなやつ

## 内容
サンプル　https://mghs15.github.io/webmap-template/index2.html

* 背景地図の上にオリジナルのベクトルタイルを表示。
* オリジナルのベクトルデータをポチポチすると選択リストに追加。
* 選択リストに入っている内容を表示。

## 使い方
### 設定
index2.htmlでは変更を想定する部分をある程度独立させた。
* GUIによる入力条件用の設定（JSON）
* Mapbox Style Spec形式の上乗せデータ表示設定（metadata属性を用いて拡張）（JSON）
* 入力条件に対するフィルタリング条件式の生成（JavaScript関数、makeFilter()）
* ポップアップの表示内容（JavaScript関数、makePopupHtml()）
* 選択地物リストの表示内容（JavaScript関数、makeListHtml()）

### 前提
想定しているベクトルタイルは、以下の通り。
  * 各地物はIDとなる属性を持っている（上乗せ用style.jsonのsourcesで指定時にメタデータに記載）
    * 複数の属性値の組み合わせは未実装

## 感想
* いろんなパターンに対応したテンプレを作るよりも、結局スクラッチした方が速そう
* ということで、複雑化する部分は、かなり自由度の高い方法（拡張style.json、JavaScript関数）。
* 現在、入力条件フィルタで、各スタイルレイヤのfilter条件をつぶしてしまうので、何とかしたい。

## 出典
* 背景地図：地理院地図Vector（国土地理院）
* サンプルデータ：地図・空中写真閲覧サービス（国土地理院）
* 使っているライブラリはMapbox GL JS。
